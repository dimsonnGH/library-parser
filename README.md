# Парсер книг с сайта tululu.org

Приложение предназначено для скачивания книг из онлайн библиотеки [tululu.org](https://tululu.org/) с целью последующего чтения в офлайн-режиме.

### Как установить

Скачайте код:
```sh
git clone https://github.com/dimsonnGH/library-parser
```
Для работы необходим Python 3 версии. Если он у вас еще не установлен, [Установите отсюда](https://www.python.org/).

Проверьте, что `python` установлен и корректно настроен. Запустите его в командной строке:
```sh
python --version
```
Рекомендуется запускать приложение в виртуальном окружении. Чтобы его создать, выполните в каталоге проекта:
```sh
python -m venv venv
```
Активируйте его. На разных операционных системах это делается разными командами:
- Windows: `.\venv\Scripts\activate`
- MacOS/Linux: `source venv/bin/activate`


Установите зависимости в виртуальное окружение:
```sh
pip install -r requirements.txt
```

### Запуск

Приложение состоит из двух скриптов 
- `main.py` для скачивания книг из диапазона идентификаторов книги
- `parse_tululu_category.py` для скачивания книг из категории `Научная фантастика`

Запуск `main.py` приложения выполняется командой
```sh
python main.py --start_id <Начальный идентификатор книги> --end_id <Конечный идентификатор книги> --dest_folder <Имя папки> --skip_imgs --skip_txt
```
У каждой книги в библиотеке [tululu.org](https://tululu.org/) есть свой номер (идентификатор). Его можно увидеть в адресной строке на странице книги:
![Find book id in url](readme_imgs/book_id.png "Расположение идентификатора книги в адресной строке").

Параметры `--start__id` и `--end__id` указывают начальный и конечный номер из диапазона идентификаторов книг, которые нужно скачать. По умолчанию оба номера равны 1.

Параметр `--dest_folder` указывает папку, в которой будут сохранены скачанные книги, по умолчанию `books`. 
Внутри этой папки будут созданы две вложенные папки `texts` и `imgs`, в которых будут сохраняться тексты и изображения обложек соответственно.
Тексты книг сохраняются в файлы вида `[Идентификатор].[Название].txt`.
Имя файла обложки содержит идентификатор книги.

Параметр `--skip_imgs` указывает на то, что не нужно скачивать изображения обложек книг.

Параметр `--skip_txt` указывает на то, что не нужно скачивать тексты книг.


Запуск `parse_tululu_category.py` приложения выполняется командой
```sh
python parse_tululu_category.py --start_page <Начальный номер страницы> --end_page <Конечный номер страницы> --dest_folder <Имя папки> --skip_imgs --skip_txt
```
У каждой книги в библиотеке [tululu.org](https://tululu.org/) есть свой номер (идентификатор). Его можно увидеть в адресной строке на странице книги:
![Find book id in url](readme_imgs/book_id.png "Расположение идентификатора книги в адресной строке").

Параметры `--start_page` и `--end_page` указывают начальную и конечную страницу категории `Научная фантастика`. `--start_page`по умолчанию равен 1.

Параметры `--dest_folder`, `--skip_imgs`, `--skip_txt` аналогичны соответствующим параметрам `main.py`


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).